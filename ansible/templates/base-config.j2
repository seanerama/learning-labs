!
! Base Configuration Template
! Generated by Ansible
! Device: {{ inventory_hostname }}
! Date: {{ ansible_date_time.iso8601 }}
!

!
! Hostname Configuration
!
hostname {{ inventory_hostname }}

!
! Domain Configuration
!
ip domain-name {{ domain_name }}

!
! DNS Servers
!
{% for dns in dns_servers %}
ip name-server {{ dns }}
{% endfor %}

!
! NTP Configuration
!
{% for ntp in ntp_servers %}
ntp server {{ ntp }}
{% endfor %}

!
! Logging Configuration
!
logging buffered 51200
logging console informational
logging monitor informational
{% if syslog_server is defined %}
logging host {{ syslog_server }}
{% endif %}

!
! SNMP Configuration
!
{% if snmp_community is defined %}
snmp-server community {{ snmp_community }} RO
{% endif %}
{% if snmp_location is defined %}
snmp-server location {{ snmp_location }}
{% endif %}
{% if snmp_contact is defined %}
snmp-server contact {{ snmp_contact }}
{% endif %}

!
! SSH Configuration
!
ip ssh version 2
ip ssh time-out 60
ip ssh authentication-retries 3
crypto key generate rsa modulus 2048

!
! Line Configuration
!
line con 0
 logging synchronous
 exec-timeout 15 0
line vty 0 4
 transport input ssh
 exec-timeout 15 0
 logging synchronous

!
! Banner Configuration
!
{% if login_banner is defined %}
banner login ^
{{ login_banner }}
^
{% endif %}

!
! End of Base Configuration
!
